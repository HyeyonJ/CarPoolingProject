<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">        
<mapper namespace="project.carPooling.driver.mapper.RequestMapper">
	<select id="selectRequestByDIdx" resultType="map">
		SELECT dr.d_commute, dr.d_date, dr.d_startTime, dr.d_endTime, dr.d_startPoint, dr.d_endPoint, dr.d_startlon, dr.d_startlat, dr.d_endlon, dr.d_endlat, dr.d_fee, r.p_idx, r.r_idx
		FROM d_registration dr, reservation r
		WHERE dr.d_idx = #{dIdx} AND dr.dr_idx = r.dr_idx
	</select>

	<update id="update">
		UPDATE RESERVATION                    
		SET r_confirm = 'true',
		WHERE r_idx = #{rIdx}
	</update>
</mapper>